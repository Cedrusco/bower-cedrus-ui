/*!
 * Cedrus UI
 * https://github.com/cedrusco/cedrus-ui
 * @license Copyright Cedrus 2015
 * v0.2.20
 */
!function(t,e,n){"use strict";!function(){e.module("cedrus.ui",["ng","ngAnimate","ngAria","cedrus.ui.core","cedrus.ui.components.cdChart","cedrus.ui.components.cdDateRangePicker","cedrus.ui.components.cdGroupedBarChart","cedrus.ui.components.sidebarFilter","cedrus.ui.components.calendar","cedrus.ui.components.constant","cedrus.ui.components.constant","cedrus.ui.components.export"])}(),function(){var t;!function(t){e.module("cedrus.ui.core",["ngMaterial"])}(t||(t={}))}(),function(){var t;!function(t){function n(t,e,n){e.setDefaultDateFormat("MM/dd/yyyy")}n.$inject=["$provide","$cedrusUIConfigProvider","$mdThemingProvider"],e.module("cedrus.ui.core").config(n)}(t||(t={}))}(),function(){var t;!function(t){var n=function(){function t(){}return t.capitalize=function(t,e){function n(t){return t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()}var i=e?/([^\W_]+[^\s-]*) */g:/([^\W_]+[^\s-]*)/;return t?t.replace(i,n):""},t}();e.module("cedrus.ui.core").filter("capitalize",n.capitalize)}(t||(t={}))}(),function(){var t;!function(t){var n=function(){function t(){this.CSS={SAMPLE:"1"}}return t}();e.module("cedrus.ui.core").factory("$cedrusConstant",function(){return new n})}(t||(t={}))}(),function(){var t;!function(t){var n=function(){function t(){}return t.normalizeCamelCase=function(t,e){var n=t.replace(/([a-z])([A-Z])/g,"$1 $2");return n},t}();e.module("cedrus.ui.core").filter("normalizeCamelCase",n.normalizeCamelCase)}(t||(t={}))}(),function(){var t;!function(t){var n=function(){function t(){this._UI_DEFAULT_DATE_FORMAT="MM/dd/yyyy",this.dateFormat=this._UI_DEFAULT_DATE_FORMAT}return t.prototype.$get=function(){return{getDateFormat:this.getDefaultDateFormat}},t.prototype.setDefaultDateFormat=function(t){this.dateFormat=t||this._UI_DEFAULT_DATE_FORMAT},t.prototype.getDefaultDateFormat=function(){return this.dateFormat||this._UI_DEFAULT_DATE_FORMAT},t}();t.UIConfigProvider=n,e.module("cedrus.ui.core").provider("$cedrusUIConfig",n)}(t||(t={}))}(),function(){var n;!function(n){var i=function(){function n(){this.isDebug=!0,this.now=t.performance?e.bind(t.performance,t.performance.now):Date.now||function(){return(new Date).getTime()}}return n.prototype.log=function(){for(var e=[],n=0;n<arguments.length;n++)e[n-0]=arguments[n];t.isDebug&&console.debug.apply(console,["Cedrus UI:"].concat(e))},n.prototype.time=function(t){var e=this.now();return t(),this.now()-e},n}();e.module("cedrus.ui.core").factory("$cedrusUtil",function(){return i})}(n||(n={}))}(),function(){var t;!function(t){var n=function(){function t(t,e){var n=this;this.$element=t,this.$injector=e,this.defaultOptions={width:360,height:360},this.drawSettings={},this.chartTypes={pieChart:"pieChartService",lineChart:"lineChartService"},this.implementOverlay=function(){n.element.select(".custom-overlay").html(n.options.customHTMLoverlay())},this.drawChart=function(t){t&&(n.options.customHTMLoverlay&&n.implementOverlay(),n.chartService.mergeEvents(n.options),n.chartService.definePosition(n.options,n.drawSettings,n.svg),n.chartService.prepareOptions(n.svg,n.data,n.options,n.drawSettings)),n.chartService.draw(n.svg,n.data,n.options,n.drawSettings),n.options.series.forEach(function(t,e){var i=t.visible!==!1,o=i?n.data[t.dataset]:[];n.chartService.drawSeries(n.svg,o,n.options,n.drawSettings,e)})},this.width=100,this.height=100,this.element=d3.select(this.$element[0]),this.svg=d3.select(this.$element[0]).select("svg").attr("width",this.width).attr("height",this.height)}return t.prototype.$onInit=function(){this.options=e.merge({},this.defaultOptions,this.options),this.width=this.options.width,this.height=this.options.height,this.chartTypes[this.options.chartType]?this.chartService=this.$injector.get(this.chartTypes[this.options.chartType]):"custom"===this.options.chartType?(this.chartService=this.$injector.get(this.options.customChartService),this.chartService||console.warn("No custom chart service provided for custom chart type")):console.warn("Service for chart type: "+this.options.chartType+" not found"),this.drawChart(!0)},t.prototype.$onChanges=function(t){var e=!!t.options;this.drawChart(e)},t.$inject=["$element","$injector"],t}(),i=function(){function t(){this.bindings={data:"<",options:"<"},this.template='<div><div class="custom-overlay"></div><svg></svg></div>',this.controller=n,this.controllerAs="vm"}return t}();e.module("cedrus.ui.components.cdChart",[]).component("cdChart",new i);var o=function(){function t(){this.padding=20,this.legendRectSize=12,this.legendSpacing=4,this.scaleMap={linear:d3.scaleLinear(),log:d3.scaleLog(),ordinal:d3.scaleOrdinal()}}return t.prototype.mergeEvents=function(t){if(t){var e={mouseout:[],mouseover:[]};t.events&&Object.keys(t.events).forEach(function(n){"bind"!==n&&(e[n]||(e[n]=[]),e[n].push(t.events[n]))}),this.events=e}},t.prototype.createTooltip=function(t,e,n,i){i=e.tooltip&&e.tooltip.customText?this.createAccessor(e.tooltip.customText,"tooltip data accessor"):i;var o=d3.tip();o.attr("class","cd-chart d3-tip"),o.html(function(t){return i(t)}),e.tooltip&&e.tooltip.position&&o.direction(e.tooltip.position),t.call(o),n.tip=o,this.events.mouseover.push(n.tip.show),this.events.mouseout.push(n.tip.hide)},t.prototype.createAccessor=function(t,e){return t||console.warn("Must Provide a Key for property: "+e),"function"==typeof t?function(n,i,o){return"tooltip data accessor"===e&&(i||(i=n.index),n.data&&(n=n.data)),t(n,i,o)}:function(e){return e[t]}},t.prototype.attachListenters=function(t,n,i){var o=Object.keys(n);o.forEach(function(o){t.on(o,function(t,r,a){var s=this,c=e.copy(d3.event);Array.isArray(n[o])||(n[o]=[n[o]]),n[o].forEach(function(e){i?e.bind(s)(t,r,a,c):e(t,r,a,c)})})})},t.$inject=["$scope"],t}();t.DrawService=o}(t||(t={}))}(),function(){var t;!function(t){var n;!function(t){var n;!function(t){var n;!function(t){var n=function(){function t(){this.bindings={options:"<?"},this.require={ngModel:"ngModel"},this.templateUrl="components/date-range-picker/date-range-picker.tpl.html",this.controller="CdDateRangePicker",this.controllerAs="vm"}return t}();e.module("cedrus.ui.components.cdDateRangePicker",[]).component("cdDateRangePicker",new n)}(n=t.dateRangePicker||(t.dateRangePicker={}))}(n=t.components||(t.components={}))}(n=t.ui||(t.ui={}))}(t||(t={}))}(),function(){var t;!function(t){var n=function(){function t(){this.bindings={data:"=",options:"="},this.templateUrl="components/grouped-bar-chart/grouped-bar-chart.tpl.html",this.controller="groupedBarChartController",this.controllerAs="vm",this.transclude=!0}return t}();e.module("cedrus.ui.components.cdGroupedBarChart",[]).component("cdGroupedBarChart",new n)}(t||(t={}))}(),function(){var t;!function(t){var n;!function(t){var n;!function(t){var n;!function(t){var n=function(){function t(){this.templateUrl="components/sidebar-filter/sidebar-filter.tpl.html",this.controllerAs="vm",this.controller="SidebarFilterController",this.bindings={options:"<",customFields:"<?"}}return t}();e.module("cedrus.ui.components.sidebarFilter",[]).component("cdSidebarFilter",new n)}(n=t.sidebarFilter||(t.sidebarFilter={}))}(n=t.components||(t.components={}))}(n=t.ui||(t.ui={}))}(t||(t={}))}(),function(){var t;!function(t){var n=function(){function t(t){this.$element=t,this.yearMap=[[-4,-3,-2],[-1,0,1],[2,3,4],[5,6,7]],this.monthMap=[[{display:"Jan",value:"January"},{display:"Feb",value:"February"},{display:"Mar",value:"March"}],[{display:"Apr",value:"April"},{display:"May",value:"May"},{display:"Jun",value:"June"}],[{display:"Jul",value:"July"},{display:"Aug",value:"August"},{display:"Sep",value:"September"}],[{display:"Oct",value:"October"},{display:"Nov",value:"November"},{display:"Dec",value:"December"}]]}return t.prototype.$onInit=function(){this.initYear=(new Date).getFullYear(),this.date={selYear:this.initYear,selMonth:""},this.showCal=!1},t.prototype.$postLink=function(){this.inputEl=this.$element.find("input"),this.options&&this.options.blockFreeTyping===!0&&this.inputEl.keydown(function(t){t.preventDefault()})},t.prototype.displayCal=function(){this.showCal=!this.showCal,this.showCal&&this.inputEl.focus()},t.prototype.flipCal=function(){this.yearSel=!this.yearSel},t.prototype.setYear=function(t){this.date.selYear||(this.date.selYear=this.initYear),this.date.selYear+=t},t.prototype.setMonth=function(t){this.date.selYear||(this.date.selYear=this.initYear),this.date.selMonth=t,this.ngModel.$setViewValue(this.date.selMonth+" "+this.date.selYear),this.ngModel.$render(),this.selection=this.ngModel.$viewValue,this.showCal=!1},t.$inject=["$element"],t}();t.CalendarController=n,e.module("cedrus.ui.components.calendar").controller("CalendarController",n)}(t||(t={}))}(),function(){var t;!function(t){var n=function(){function t(){this.templateUrl="components/calendar/calendar.tpl.html",this.controllerAs="vm",this.controller="CalendarController",this.bindings={options:"="},this.require={ngModel:"ngModel"}}return t}();t.CalendarComponent=n,e.module("cedrus.ui.components.calendar",[]).component("cdCalendar",new n)}(t||(t={}))}(),function(){var t;!function(t){var n=function(){function t(){this.chartBuilt=!1}return t.prototype.draw=function(t,e,n){var i={top:30,right:30,bottom:40,left:80},o=n.height-i.top-i.bottom,r=n.width-i.left-i.right,a=n.xAxisProperty,s=n.yAxisProperty;this.chartBuilt||(t=t.append("g").attr("transform","translate("+i.left+","+i.top+")"),this.xAxis=d3.select("svg").append("g").attr("transform","translate("+i.left+","+i.top+")").attr("class","xAxis"),this.yAxis=d3.select("svg").append("g").attr("transform","translate("+i.left+","+(o+i.top)+")").attr("class","yAxis"),this.chartBuilt=!0);var c=d3.scaleLinear().domain([0,d3.max(e,function(t){return t[s]})]).range([0,o]),l=d3.scaleBand().domain(e.map(function(t){return t[a]})).rangeRound([0,r]).paddingInner(.05).paddingOuter(.05),d=(d3.scaleLinear().domain([0,d3.max(e,function(t){return t[s]})]).range(["#FFB832","#C61C6F"]),d3.scaleLinear().domain([0,e.length]).range(["#FFB832","#C61C6F"])),u=d3.tip().attr("class","d3-tip").offset([-10,0]).html(function(t){return"<strong>"+s+":</strong> <span> "+t[s]+" </span>"});t.call(u);var p=d3.scaleLinear().domain([0,d3.max(e,function(t){return t[s]})]).range([o,0]),h=d3.axisLeft(p).ticks(10),f=d3.axisBottom(l),m=t.selectAll("rect").data(e);m.enter().append("rect").merge(m).style("fill",function(t,e){return d(e)}).attr("width",function(t){return l.bandwidth()}).attr("height",0).attr("x",function(t){return l(t[a])}).attr("y",o).on("mouseover",u.show).on("mouseout",u.hide).transition().attr("height",function(t){return c(t[s])}).attr("y",function(t){return o-c(t[s])}).delay(function(t,e){return 20*e}).duration(1e3),h(this.xAxis),f(this.yAxis),m.exit().remove()},t}();t.CdBarChartService=n,e.module("cedrus.ui.components.cdChart").service("barChartService",n)}(t||(t={}))}(),function(){var t,n=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)};!function(t){var i=function(t){function e(){t.apply(this,arguments)}return n(e,t),e.prototype.getMaxY=function(t,e,n){var i=this;if(e.axes.y.max)return e.axes.y.max;var o=[];return e.series.forEach(function(e,r){var a=e.yKey?i.createAccessor(e.yKey):n;if(e.visible!==!1){var s=t[e.dataset];o.push(d3.max(s,function(t){return parseInt(a(t))}))}}),d3.max(o)},e.prototype.getMinY=function(t,e,n){return e.axes.y.min?e.axes.y.min:0},e.prototype.getMaxX=function(t,e,n){if(e.axes.max)return e.axes.max;var i=[];return e.series.forEach(function(e,o){if(e.visible!==!1){var r=t[e.dataset];i.push(d3.max(r,function(t){return n(t)}))}}),d3.max(i)},e.prototype.getMinX=function(t,e,n){if(e.axes.min)return e.axes.min;var i=[];return e.series.forEach(function(e,o){if(e.visible!==!1){var r=t[e.dataset];i.push(d3.min(r,function(t){return n(t)}))}}),d3.min(i)},e.prototype.createAxes=function(t,e,n,i){var o={bottom:d3.axisBottom,top:d3.axisTop,left:d3.axisLeft,right:d3.axisRight},r=o[n]().scale(t);return e.axes[i].ticks&&(r=r.ticks(e.axes[i].ticks)),e.axes[i].tickFormat&&(r=r.tickFormat(e.axes[i].tickFormat)),r},e.prototype.definePosition=function(t,e){var n=t.legend.tickSize||4,i="top"!==t.legend.position,o="top"!==t.legend.position?this.legendRectSize+this.legendSpacing:0,r=t.legend.vOffset||0,a=t.legend.hOffset||0;e.positionDetails={xAxisVerticalShift:t.height-this.padding+n-o,xAxisHorizontalShift:0,yAxisVerticalShift:0,yAxisHorizontalShift:this.padding,legendHorizontalShift:a,legendVerticalShift:(i?t.height-this.legendRectSize:0)+r,yRangeMax:i?this.padding:this.legendRectSize+this.legendSpacing}},e.prototype.drawLegend=function(t,e,n,i){var o=this;return n.legend.enabled===!1?void t.selectAll(".legend").attr("style","display: none;"):(t=t.selectAll(".legend").attr("style","display: block;").data(n.series).enter().append("g").attr("class","legend").attr("transform",function(t,e,i){var r=(n.width-2*o.padding)/n.series.length,a=2*o.padding+e*r;return"translate("+a+",0)"}),n.legend.events&&t.call(this.attachListenters,n.legend.events,n.events.bind),t.append("rect").attr("width",this.legendRectSize).attr("height",this.legendRectSize).attr("stroke",function(t){return t.color}).attr("fill",function(t){return t.color}).attr("x",0).attr("y",0),void t.append("text").text(function(t){return t.label}).attr("x",this.legendRectSize+this.legendSpacing).attr("y",this.legendRectSize/1.5))},e.prototype.prepareOptions=function(t,e,n,i){var o=i.xAxis?t.select(".xAxis"):t.append("g").attr("class","xAxis");i.xAxis=o.attr("transform","translate("+i.positionDetails.xAxisHorizontalShift+","+i.positionDetails.xAxisVerticalShift+")");var r=i.yAxis?t.select(".yAxis"):t.append("g").attr("class","yAxis");if(i.yAxis=r.attr("transform","translate("+i.positionDetails.yAxisHorizontalShift+", "+i.positionDetails.yAxisVerticalShift+")"),n.legend.enabled!==!1){var a=i.legend?t.select(".legendGroup"):t.append("g").attr("class","legendGroup");i.legend=a.attr("transform",function(t,e){var n=i.positionDetails.legendHorizontalShift,o=i.positionDetails.legendVerticalShift;return"translate("+n+","+o+")"})}i.dotSets||(i.dotSets=[]),i.paths||(i.paths=[]),n.series.forEach(function(e,n){i.paths[n]||(i.paths[n]=t.append("path").attr("class","line"+n)),i.dotSets[n]||(i.dotSets[n]=t.append("g").attr("class","circles"+n))})},e.prototype.drawSeries=function(t,e,n,i,o){var r=n.series[o];i.xAccessor;i.yAccessor=r.yKey?this.createAccessor(r.yKey):i.yAccessor;var a=t.select(".line"+o);"none"!==n.animation.type&&(a=a.transition(),n.animation.delay&&a.delay(n.animation.delay),n.animation.duration&&a.duration(n.animation.duration)),a.attr("d",i.lineFun()(e)).attr("stroke",r.color).attr("fill","none");var s=t.select(".circles"+o).selectAll("circle").data(e),c=s.enter().append("circle").merge(s);c.attr("cx",function(t,e,n){return i.xScale(i.xAccessor(t,e,n))}).attr("cy",function(t,e,n){return i.yScale(i.yAccessor(t,e,n))}).attr("fill",r.color).attr("stroke",r.color).attr("r",r.dotSize||2.5).call(this.attachListenters,this.events,n.events.bind),r.drawDots===!1&&c.attr("style","opacity:0;").attr("r",5),s.exit().remove()},e.prototype.draw=function(t,e,n,i){n.events||(n.events={}),i.xAccessor=this.createAccessor(n.axes.x.key,"xAxis accessor"),i.yAccessor=this.createAccessor(n.axes.y.key,"yAxis accessor"),n.tooltip.enabled!==!1&&(i.tip=this.createTooltip(t,n,i,i.yAccessor)),this.drawLegend(i.legend,e,n,i);var o=this.getMinY(e,n,i.yAccessor),r=this.getMaxY(e,n,i.yAccessor),a=this.getMinX(e,n,i.xAccessor),s=this.getMaxX(e,n,i.xAccessor),c=n.axes.x.scaleType?this.scaleMap[n.axes.x.scaleType]:d3.scaleLinear();i.xScale=c.domain([a,s]).range([i.positionDetails.xAxisHorizontalShift+this.padding,n.width-this.padding]);var l=n.axes.y.scaleType?this.scaleMap[n.axes.y.scaleType]:d3.scaleLinear();i.yScale=l.domain([o,r]).range([i.positionDetails.xAxisVerticalShift,i.positionDetails.yRangeMax]),i.lineFun=function(){return d3.line().x(function(t,e,n){return i.xScale(i.xAccessor(t,e,n))}).y(function(t,e,n){return i.yScale(i.yAccessor(t,e,n))}).curve(d3.curveLinear)};var d=this.createAxes(i.xScale,n,"bottom","x"),u=this.createAxes(i.yScale,n,"left","y");t.select(".xAxis").call(d),t.select(".yAxis").call(u)},e}(t.DrawService);t.CdLineChartService=i,e.module("cedrus.ui.components.cdChart").factory("lineChartService",function(){return new i})}(t||(t={}))}(),function(){var t,n=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)};!function(t){var i=function(t){function e(){t.call(this)}return n(e,t),e.prototype.prepareOptions=function(t,e,n,i){var o=this.createAccessor(n.countProperty,"countProperty"),r=i.positionDetails;i.pieGroup=i.pieGroup||t.append("g").attr("transform","translate("+r.pieHorizontalShift+","+r.pieVerticalShift+")"),i.pie=i.pie||d3.pie().value(function(t){return o(t)}).sort(function(t,e){return o(e)-o(t)}),i.arc=i.arc||d3.arc().innerRadius(r.innerRadius).outerRadius(r.radius),i.color=i.color||n.color||d3.scaleOrdinal(d3.schemeCategory20),i.legend=i.legend||t.append("g").attr("class","legendGroup").attr("transform",function(){return"translate("+r.legendHorizontalShift+","+r.legendVerticalShift+")"})},e.prototype.definePosition=function(t,e,n){function i(t,e){return"bottom"===t.legend.position?(e.attr("viewBox","0 0 "+t.width+" "+(20+t.height+a())),t.height+20):"center"===t.legend.position?o():"right"===t.legend.position?o():t.legend.position&&"left"!==t.legend.position?"top"===t.legend.position?(e.attr("viewBox","0 "+-1*(20+t.height)+" "+t.width+" "+(20+2*t.height)),-1*(20+a())):void 0:o()}function o(){return s-(s-c)/Math.sqrt(2)}function r(t,e){return t.legend.position&&"left"!==t.legend.position?"right"===t.legend.position?(e.attr("viewBox","0 0 "+(t.width+a())+" "+t.height),t.width-20):s-(s-c)/Math.sqrt(2):(e.attr("viewBox",-1*a()+" 0 "+(t.width+a())+" "+t.height),-1*a())}function a(){return 2*(s-c)/Math.sqrt(2)}var s=Math.min(t.width,t.height)/2,c=t.donutWidth||t.height/5;e.positionDetails={radius:s,donutWidth:c,innerRadius:s-c,pieVerticalShift:t.height/2,pieHorizontalShift:t.width/2,legendHorizontalShift:r(t,n),legendVerticalShift:i(t,n),legendWidth:a()}},e.prototype.drawLegend=function(t,e,n,i){if(n.legend||(n.legend={}),n.legend.enabled!==!1){var o=2*i.positionDetails.innerRadius/Math.sqrt(2),r=o/e.length,a=r/3,s=r-a,c=i.legend.selectAll("g.legend").data(e);c.exit().remove();var l=c.enter().append("g").attr("class","legend");l.append("rect"),l.append("text");var d,u=l.merge(c);n.legend.events&&u.call(this.attachListenters,n.legend.events,n.events.bind),u.select("text").attr("x",s+a).attr("y",s-a/2).text(function(t,e,n){return i.labelAccessor(t,e,n)}).call(function(t){var e=t._groups[0];d=d3.max(e,function(t){return t.getBBox().width})}),u.select("rect").attr("width",s).attr("height",s).style("fill",function(t,e,n){return i.color(i.labelAccessor(t,e,n))}).style("stroke",function(t,e,n){return i.color(i.labelAccessor(t,e,n))}),u.attr("transform",function(t,e){var n=s+a,o=(i.positionDetails.legendWidth-(d+s))/2,r=e*n+a;return"translate("+o+","+r+")"})}},e.prototype.drawSeries=function(t,e,n,i){this.drawLegend(t,e,n,i);var o=i.pieGroup.selectAll("path").data(i.pie(e));o.exit().remove(),o=o.enter().append("path").merge(o).call(function(t){if(n.animation||(n.animation={}),"none"!==n.animation){var e=t.transition();n.animation.duration&&e.duration(n.animation.duration),n.animation.delay&&e.delay(n.animation.delay),e.attrTween("d",function(t){var e=d3.interpolate(this._current,t);return this._current=e(0),function(t){return i.arc(e(t))}})}}).attr("fill",function(t,e){return i.color(i.labelAccessor(t.data,e))}),n.events&&o.call(this.attachListenters,this.events,n.events.bind)},e.prototype.draw=function(t,e,n,i){i.countAccessor=this.createAccessor(n.countProperty,"countProperty"),i.labelAccessor=this.createAccessor(n.labelProperty,"labelProperty"),n.events||(n.events={}),(n.tooltip&&n.tooltip.enabled!==!1||!n.tooltip)&&(i.tip=this.createTooltip(t,n,i,i.countAccessor))},e}(t.DrawService);t.CdPieChartService=i,e.module("cedrus.ui.components.cdChart").factory("pieChartService",function(){return new i})}(t||(t={}))}(),function(){var t;!function(t){var n;!function(t){var n;!function(t){var n;!function(t){var n=function(){function t(t){var e=this;this.$injector=t,this.restrict="EA",this.scope={name:"@?",key:"@?",replace:"@?"},this.link=function(t,n,i){var o,r="true"===i.replace,a=i.cdConstant||i.name,s=i.key;i.name&&!a&&console.error("constant name is not provided"),a&&(o=e.$injector.get(a),null!=s&&""!==s?o=s.split(".").reduce(function(t,e){return t[e]},o):i.key&&console.warn("constant key is defined without a value"),r===!0?n.replaceWith(o):n.text(o))}}return t.$inject=["$injector"],t.factory=function(){function e(e){return new t(e)}return e.$inject=["$injector"],e},t}();e.module("cedrus.ui.components.constant",[]).directive("cdConstant",n.factory())}(n=t.constant||(t.constant={}))}(n=t.components||(t.components={}))}(n=t.ui||(t.ui={}))}(t||(t={}))}(),function(){var t;!function(t){var n;!function(t){var n;!function(t){var n;!function(t){var n=function(){function t(t){var e=this;this.$injector=t,this.restrict="EA",this.scope={name:"@?",key:"@?",replace:"@?"},this.link=function(t,n,i){var o,r="true"===i.replace,a=i.cdConstant||i.name,s=i.key;i.name&&!a&&console.error("constant name is not provided"),a&&(o="string"==typeof a?e.$injector.get(a):a,console.info(o),null!=s&&""!==s?o=s.split(".").reduce(function(t,e){return t[e]},o):i.key&&console.warn("constant key is defined without a value"),r===!0?n.replaceWith(o):n.text(o))},console.log("constant component initilized")}return t.$inject=["$injector"],t.factory=function(){function e(e){return new t(e)}return e.$inject=["$injector"],e},t}();e.module("cedrus.ui.components.constant",[]).directive("cdConstant",n.factory())}(n=t.constant||(t.constant={}))}(n=t.components||(t.components={}))}(n=t.ui||(t.ui={}))}(t||(t={}))}(),function(){var t;!function(t){var i;!function(t){var i;!function(t){var i;!function(t){var i=function(){function t(t,e){var n=this;this.$q=t,this.$element=e,this.today=new Date,this.animate=function(t){return n.$q(function(e){n.$dateRangeElement.fadeOut(300,function(){e(),n.$dateRangeElement.fadeIn(300)}),n.$dateRangeRow.animate({"margin-bottom":t+"px"},600)})},this.defaultOptions={startDate:{min:!1,rangePlaceholder:"Date From",singleDatePlaceholder:"Date"},endDate:{max:!1,placeholder:"Date To"},errorMessages:{startRequired:"Date From is required when using a date range.",endRequired:"Date To is required when using a date range."}}}return t.prototype.$onInit=function(){if(this.$dateRangeElement=this.$element,this.$dateRangeRow=this.$element.find("#date-range-row"),this.$startInputContainer=this.$element.find(".startDate"),this.options=e.extend({},this.defaultOptions,this.options),this.options.initalizationCallback){var t=this;this.options.initalizationCallback(t.form)}this.form&&(this.parentForm=this.form.$$parentForm),this.parentFormSubmitted=!1,this.useDateRange=!1},t.prototype.toggleDateRange=function(t){var e=this,i=this.useDateRange?0:55;return this.animate(i).then(function(){e.useDateRange?(e.useDateRange=!1,e.endDate=n,t.startDate.$setPristine(),t.$$parentForm.$submitted=!1,e.onDatepickerChange(e.startDate),e.$startInputContainer.removeClass("md-datepicker-invalid")):e.useDateRange=!0})},t.prototype.onDatepickerChange=function(t,e){this.ngModel.$setViewValue({startDate:t,endDate:e||t}),this.ngModel.$render()},t.prototype.getToggleDateRangeText=function(t){return t?"Use Single Date":"Use Date Range"},t.prototype.startPlaceholder=function(t){return t?this.options.startDate.rangePlaceholder:this.options.startDate.singleDatePlaceholder},t.prototype.formOnChange=function(t){t&&this.parentForm&&(this.parentFormSubmitted=this.parentForm.$submitted)},t.prototype.shouldRequire=function(t,e){return t&&e},t.$inject=["$q","$element"],t}();e.module("cedrus.ui.components.cdDateRangePicker").controller("CdDateRangePicker",i)}(i=t.dateRangePicker||(t.dateRangePicker={}))}(i=t.components||(t.components={}))}(i=t.ui||(t.ui={}))}(t||(t={}))}(),function(){var t;!function(t){var n=function(){function t(){this.groupDataKeys=[],this.groupData={},this.totalKeys=0,this.expandedField=[],this.groups={},this.groupKeys=[],this.dataLength=this.data.length}return t.prototype.$onInit=function(){this.options.colors&&this.options.colors.list?this.colors=this.options.colors.list:this.colors=["red","blue","lightblue","grey","black"],this.generateGroups()},t.prototype.getColor=function(t,e){return e=e.toLowerCase(),this.options.colors&&this.options.colors.bindings&&this.options.colors.bindings[e]?this.options.colors.bindings[e]:this.colors[t%this.colors.length]},t.prototype.expandField=function(t){return this.expandedField.indexOf(t)!==-1},t.prototype.setExpandedField=function(t,e){e?this.expandedField.splice(this.expandedField.indexOf(t),1):this.expandedField.push(t)},t.prototype.generateGroups=function(){this.data.forEach(function(t,e){if(t[this.options.groupingField]){var n;n=this.options.transform?this.options.transform(t):t[this.options.groupingField],this.groups[n]||(this.groups[n]=[]),this.groups[n].push(t),this.totalKeys++}}.bind(this)),this.groupKeys=Object.keys(this.groups),e.copy(this.groupKeys,this.groupDataKeys),e.copy(this.groups,this.groupData)},t.prototype.showData=function(){return this.data.length!==this.dataLength&&this.generateGroups(),this.dataLength=this.data.length,0!==this.data.length},t}();e.module("cedrus.ui.components.cdGroupedBarChart").controller("groupedBarChartController",n)}(t||(t={}))}(),function(){function t(t,e){if(e.isSelected)t.push(e.value);else{var n=t.indexOf(e.value);n>-1&&t.splice(n,1)}return t}var i;!function(i){var o;!function(i){var o;!function(i){var o;!function(i){var o,r=function(){function i(){var n=this;this.groupLevelClasses=["cdFilterGroupLevel"],this.filterLevelClasses=["cdFilterFilterLevel"],this.optionLevelClasses=["cdFilterOptionLevel"],this.setDefaults=function(){n.filters=e.copy(n.options.defaultFilterOptions),n.filterGroups=e.copy(n.options.defaultFilterGroups),n.options.currentFilters={};var t={};for(var i in n.filters){t[i]={};for(var o in n.filters[i])if("checkbox"===n.filters[i][o].type)t[i][o]=[];else{var r=n.customFields[n.filters[i][o].type];"object"===r.valuesStoredAs?t[i][o]={}:"array"===r.valuesStoredAs&&(t[i][o]=[])}}n.options.currentFilters=t,n.options.customClasses&&(n.options.customClasses.groupLevel&&(n.groupLevelClasses.push(n.options.customClasses.groupLevel),n.groupLevelClasses=n.groupLevelClasses.join(" ")),n.options.customClasses.filterLevel&&(n.filterLevelClasses.push(n.options.customClasses.filterLevel),n.filterLevelClasses=n.filterLevelClasses.join(" ")),n.options.customClasses.optionLevel&&(n.optionLevelClasses.push(n.options.customClasses.optionLevel),n.optionLevelClasses=n.optionLevelClasses.join(" ")))},this.changeFilter=function(e,i,o){var r=e.name,a=e.group,s=(e.options,e.options[i]),c=n.options.currentFilters[a][r],l={group:a,filterName:r,updatedOption:s.value,isSelected:s.isSelected};"checkbox"===e.type?n.options.currentFilters[a][r]=t(c,s):n.options.currentFilters[a][r]=n.customFields[e.type].handler(c,s,e),n.options.filterChanged(n.options.currentFilters,l)}}return i.prototype.$onInit=function(){this.setDefaults()},i.prototype.toggleExpand=function(t){t.isExpanded===n&&(t.isExpanded=!0),t.isExpanded=!t.isExpanded},i.prototype.processTitle=function(t,e){return"string"==typeof t.title?t.title:"function"==typeof t.title?t.title(t,e):t.value},i.$inject=[],i}();!function(t){t[t.GROUP=0]="GROUP",t[t.FILTER=1]="FILTER",t[t.OPTION=2]="OPTION"}(o||(o={})),e.module("cedrus.ui.components.sidebarFilter").controller("SidebarFilterController",r)}(o=i.sidebarFilter||(i.sidebarFilter={}))}(o=i.components||(i.components={}))}(o=i.ui||(i.ui={}))}(i||(i={}))}(),function(){var i;!function(i){var o=function(){function i(t){this.$filter=t}return i.prototype.s2ab=function(t){for(var e=new ArrayBuffer(t.length),n=new Uint8Array(e),i=0;i<t.length;++i)n[i]=255&t.charCodeAt(i);return e},i.prototype.generateSheet=function(t,e,i){for(var o={},r={s:{c:0,r:0},e:{c:t.headers.length,r:0}},a=0;a<t.headers.length;a++){var s={v:t.headers[a].title,t:"s"},c=XLSX.utils.encode_cell({c:a,r:0});o[c]=s}for(var l=0;l<t.data.length;l++){var d=l+1;r.e.r<d&&(r.e.r=d);for(var u=0;u<t.headers.length;u++){var p={},h=XLSX.utils.encode_cell({c:u,r:d});t.headers[u].type&&(p.t=t.headers[u].type),p.v=t.data[l][t.headers[u].key]!==n?t.data[l][t.headers[u].key]:"",o[h]=p}}return o["!cols"]=t.headers.map(function(t){return t.columnWidth||(t.columnWidth=i.columnWidth||15),{wch:t.columnWidth}}),o["!ref"]=XLSX.utils.encode_range(r),{sheetName:e,sheet:o}},i.prototype.generateWorkbook=function(t,n,i){var o=this;i||(i={}),i=e.extend({bookType:"xlsx",bookSST:!1,type:"binary"},i);var r={Sheets:{},Props:{},SSF:{},SheetNames:[]};Array.isArray(t)||(t=[t]),t.forEach(function(t,e){var n=t.sheetName||"sheet "+e,a=o.generateSheet(t,n,i);r.SheetNames.push(a.sheetName),r.Sheets[a.sheetName]=a.sheet}),this.exportWorkbook(r,i,n)},i.prototype.exportWorkbook=function(t,e,n){t=XLSX.write(t,e),t=this.s2ab(t);var i=new Blob([t]);this.saveAs(i,n)},i.prototype.saveAs=function(e,n){var i=document.createElement("a"),o=t.URL.createObjectURL(e);document.body.appendChild(i),i.setAttribute("style","display: none"),i.href=o,i.download=n,i.click(),t.URL.revokeObjectURL(o),document.body.removeChild(i)},i.$inject=["$filter"],i}();e.module("cedrus.ui.components.export",[]).service("cdWorksheetExportService",o)}(i||(i={}))}(),function(){e.module("cedrus.ui").run(["$templateCache",function(t){t.put("components/calendar/calendar.tpl.html",'<div class="container"><div class="hider" ng-click="vm.displayCal()" ng-show="vm.showCal"></div><div class="input-blocker" ng-click="vm.displayCal()" readonly="true"></div><input type="text" class="md-select" ng-model="vm.selection"><div ng-show="vm.showCal" class="panel"><div class="md-whiteframe-2dp"><div class="yearrow" layout="row" layout-align="space-between end"><md-button class="calbtn" ng-click="vm.setYear(-1)" ng-hide="vm.yearSel" aria-label="previous year"><i class="fa fa-chevron-left"></i></md-button><md-button class="calbtn" ng-click="vm.setYear(-12)" ng-show="vm.yearSel" aria-label="go back one page"><i class="fa fa-chevron-left"></i></md-button><md-button class="calbtn yearbtn" ng-click="vm.flipCal()" aria-label="swap between month and year select">{{vm.date.selYear || vm.initYear}}</md-button><md-button class="calbtn" ng-click="vm.setYear(1)" ng-hide="vm.yearSel" aria-label="next year"><i class="fa fa-chevron-right"></i></md-button><md-button class="calbtn" ng-click="vm.setYear(12)" ng-show="vm.yearSel" aria-label="go forward by one page"><i class="fa fa-chevron-right"></i></md-button></div><div layout="row" ng-repeat="monthRow in vm.monthMap" ng-hide="vm.yearSel"><md-button class="calbtn monthSelect" ng-repeat="month in monthRow" ng-click="vm.setMonth(month.value)" aria-label="choose {{month.value}}">{{month.display}}</md-button></div><div layout="row" ng-repeat="yearRow in vm.yearMap" ng-show="vm.yearSel"><md-button class="calbtn yearSelect" ng-repeat="year in yearRow" ng-click="vm.flipCal(); vm.setYear(year)" aria-label="choose {{year}}">{{(vm.date.selYear||vm.initYear)+year}}</md-button></div></div></div></div>'),t.put("components/date-range-picker/date-range-picker.tpl.html",'<div ng-form="vm.form"><md-datepicker name="startDate" ng-model="vm.startDate" ng-change="vm.onDatepickerChange(vm.startDate, vm.endDate)" ng-required="vm.shouldRequire(vm.useDateRange, vm.endDate)" md-placeholder="{{ vm.startPlaceholder(vm.useDateRange) }}" md-min-date="vm.options.startDate.min || false" md-max-date="vm.endDate || vm.options.startDate.max || false" class="startDate"></md-datepicker><md-datepicker ng-show="vm.useDateRange" name="endDate" ng-model="vm.endDate" ng-change="vm.onDatepickerChange(vm.startDate, vm.endDate)" ng-required="vm.shouldRequire(vm.useDateRange, vm.startDate)" md-placeholder="{{ vm.options.endDate.placeholder }}" md-min-date="vm.startDate" md-max-date="vm.options.endDate.max" class="last-datepicker"></md-datepicker></div><a ng-click="vm.toggleDateRange(vm.form)">{{ vm.getToggleDateRangeText(vm.useDateRange) }}</a><div class="error-div" ng-if="vm.useDateRange && vm.form.$error && vm.parentFormSubmitted"><span ng-if="vm.form.startDate.$error.required">{{ vm.options.errorMessages.startRequired }} </span><span ng-if="vm.form.endDate.$error.required">{{ vm.options.errorMessages.endRequired }}</span></div>'),
t.put("components/grouped-bar-chart/grouped-bar-chart.tpl.html",'<div class="cd-grouped-bar-chart"><div ng-hide="vm.showData()"><div layout="row" layout-fill layout-align="center center" class="no-data"><span>There are no active tasks.</span></div></div><div ng-show="vm.showData()"><div ng-repeat="group in vm.groupDataKeys"><div layout="row" class="group-item"><div layout="column"><md-icon ng-hide="vm.expandField(group)" md-font-icon="fa fa-caret-right" ng-click="vm.setExpandedField(group)" ng-if="vm.options.subFields"></md-icon><md-icon ng-show="vm.expandField(group)" md-font-icon="fa fa-caret-down" ng-click="vm.setExpandedField(group, true)" ng-if="vm.options.subFields"></md-icon></div><div layout="column" flex><div layout="row" layout-align="space-around none"><div flex="60" layout-align="start center">{{group}}</div><div flex="20">Count: {{vm.groupData[group].length}}</div><div flex="20">{{vm.groupData[group].length*100/vm.totalKeys | number:0}}%</div></div></div></div><div layout="row" flex class="line-color"><div ng-style="{width:vm.groupData[group].length*100/vm.totalKeys + \'%\', \'background\': vm.getColor($index, group)}" class="red-line"></div></div><div class="data-container" ng-show="vm.expandField(group)"><div layout="column" ng-show="vm.expandField(group)" ng-if="vm.options.subFields"><div ng-repeat="el in vm.groupData[group]"><div ng-include="vm.options.extendedTemplate || \'lineChartSingleItemExpanded\'"></div></div></div></div></div><div layout="row" layout-align="end none" class="total">Total Count:{{vm.totalKeys}}</div></div></div><script type="text/ng-template" id="lineChartSingleItemExpanded"><div class="panel" layout="column" layout-align="center none">\n        <div layout="row" layout-align="space-between none" class="data-row">\n            <div ng-repeat="(field, displayText ) in vm.options.subFields">\n                <span class="bold-text">{{displayText}}</span>\n                <span>{{el[field]}}</span>\n            </div>\n        </div>\n    </div></script>'),t.put("components/sidebar-filter/sidebar-filter.tpl.html",'<!--implemenation for user provided custom type/templates--><!--change naming to filter-tree, side-filter towards end--><div class="cd-sidebar-filter"><div ng-repeat="group in vm.filterGroups track by $index" ng-class="(vm.groupLevelClasses + (group.customClass ? \' \' + group.customClass : \'\') )"><div ng-if="!vm.options.isFlat"><md-button ng-click="vm.toggleExpand(group)" class="md-icon-button" aria-label="expand"><md-icon md-font-set="fa" md-font-icon="fa-chevron-right" ng-class="(group.isExpanded  !== false )? \'fa-chevron-down\': \'fa-chevron-right\'"></md-icon></md-button><span>{{ ::vm.processTitle(group, 0) }}</span></div><ul ng-show="group.isExpanded !== false" layout="column" ng-repeat="(filterName, filter) in vm.filters[group.key] track by filterName" ng-class="(vm.filterLevelClasses + (filter.customClass ? \' \' + filter.customClass : \'\'))" ng-class="{ cdFilterFlat : vm.options.isFlat}"><li><div><md-button ng-click="vm.toggleExpand(filter)" class="md-icon-button" aria-label="expand"><md-icon md-font-set="fa" md-font-icon="fa-chevron-right" ng-class="(filter.isExpanded  !== false )? \'fa-chevron-down\': \'fa-chevron-right\'"></md-icon></md-button><span>{{::vm.processTitle(filter, 1)}}</span><ul ng-show="filter.isExpanded !== false"><div ng-if="filter.type === \'checkbox\'" ng-include="\'cdCheckBoxFilter\'"></div><div ng-if="filter.type !== \'checkbox\'" ng-include="vm.customFields[filter.type].template"></div></ul></div></li></ul></div></div><script type="text/ng-template" id="cdCheckBoxFilter"><li ng-repeat="(optionName, option) in filter.options track by optionName" ng-class="(vm.optionLevelClasses + (option.customClass ? \' \' + option.customClass : \'\'))">\n        <md-checkbox ng-model="option.isSelected" ng-change="vm.changeFilter(filter, optionName, $index)" class="md-primary" ng-model-options="{debounce: 250}"\n            aria-label="{{::vm.processTitle(option, 2)}}">\n            <span>{{::vm.processTitle(option, 2)}}</span>\n        </md-checkbox>\n    </li></script>')}])}()}(window,window.angular),window.cedrusUI={version:{full:"0.2.20"}};